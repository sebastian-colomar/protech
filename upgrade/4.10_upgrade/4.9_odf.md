# DISCLAIMER
The following material is reproduced from the referenced guides and is provided exclusively for educational and training purposes.
It is provided on an "as-is" basis, without any express or implied warranties, and no responsibility is assumed for its accuracy, completeness, or applicability to any particular use.

---

# 1. Upgrade OCS to Red Hat OpenShift Data Foundation (ODF)

## REFERENCES:
- https://www.ibm.com/docs/en/cloud-paks/cloudpak-data-system/2.0.0?topic=ocp-ocs-upgrade-in-connected-environment-by-using-red-hat-openshift-console-ui


## Procedure

1.1. Update the current custom catalog source of the ocs-operator and local-storage-operator to use redhat-operators as shown:

    alias oc=oc-4.9.59

    export CATALOG_SOURCE=mirror-redhat-operator-index-v4-8
    
    oc patch subscription local-storage-operator -n local-storage --type json --patch '[{"op": "replace", "path": "/spec/source", "value": "'${CATALOG_SOURCE}'" }]'
    
    oc patch subscription ocs-operator -n openshift-storage --type json --patch '[{"op": "replace", "path": "/spec/source", "value": "'${CATALOG_SOURCE}'" }]'

1.2. On the Red Hat OpenShift web console, go to OperatorHub.

1.3. Search for OpenShift Data Foundation using the Filter by keyword box and click the OpenShift Data Foundation tile.

1.4. Click Install; the Install Operator page appears.

1.5. On the Install Operator page, click Install. Wait for the Operator installation to complete.


# 2. Upgrade the local-storage component to 4.9

WARNING:
> You must upgrade the local-storage component to 4.9 after the completing ODF 4.9 installation.

